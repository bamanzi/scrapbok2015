<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"> <title>FreeBSD Install Rsnapshot Filesystem Snapshot Backup Utility</title><link rel="canonical" href="http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/"><link rel="alternate" type="application/rss+xml" title="nixCraft feed" href="http://www.cyberciti.biz/faq/feed/"><link rel="pingback" href="http://www.cyberciti.biz/faq/xmlrpc.php"><link rel="alternate" type="application/rss+xml" title="nixCraft » FreeBSD Install Rsnapshot Filesystem Snapshot Backup Utility Comments Feed" href="http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/feed/">   <link rel="https://api.w.org/" href="http://www.cyberciti.biz/faq/wp-json/"><link rel="alternate" type="application/json+oembed" href="http://www.cyberciti.biz/faq/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cyberciti.biz%2Ffaq%2Fhowto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd%2F"><meta name="description" content="This tutorial describes how to install rsnapshot a filesystem snapshot utility based on rsync on FreeBSD to backup remote and local servers. "><link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head><body class="template-single">  <div class="container"> <span class="menu_control">≡ Menu</span><ul id="menu-faq" class="menu"><li id="menu-item-145282" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145282"><a title="nixCraft – Home Page " href="http://www.cyberciti.biz/">Home</a></li><li id="menu-item-145280" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145280"><a title="About us" href="http://www.cyberciti.biz/tips/about-us">About</a></li><li id="menu-item-145283" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145283"><a href="https://bash.cyberciti.biz/guide/Main_Page">Linux Shell Scripting TutoriaL</a></li><li id="menu-item-145281" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145281"><a title="Rss Feed" href="http://www.cyberciti.biz/nixcraft-rss-feed-syndication/">RSS/Feed</a></li></ul><div id="header" class="header"><div id="site_title"><a href="http://www.cyberciti.biz/faq">nixCraft</a></div><div id="site_tagline">Linux and Unix tutorials for new and seasoned sysadmin.</div></div><div class="columns"><div class="content"><div id="post-145305" class="post_box grt top" itemscope="" itemtype="http://schema.org/Article"><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/"><div class="headline_area"><h1 class="headline" itemprop="headline">FreeBSD Install Rsnapshot Filesystem Snapshot Backup Utility</h1><div class="byline small"> <span class="post_author_intro">by</span> <span class="post_author">Vivek Gite</span> <span class="post_date_intro">on</span> <span class="post_date" title="2015-11-23">November 23, 2015<span style="font-style: italic; text-transform: lowercase;"> last updated </span>November 23, 2015</span><div class="post_cats"> <span class="post_cats_intro">in</span> <a href="http://www.cyberciti.biz/faq/category/backup/" rel="category tag">Backup &amp; Recovery</a>, <a href="http://www.cyberciti.biz/faq/category/freebsd/" rel="category tag">FreeBSD</a>, <a href="http://www.cyberciti.biz/faq/category/freebsd-jails-vps/" rel="category tag">FreeBSD Jails (VPS)</a>, <a href="http://www.cyberciti.biz/faq/category/unix/" rel="category tag">UNIX</a></div></div></div><div class="post_content"><p></p><div class="my_story"><a title="See all FreeBSD related FAQ" href="http://www.cyberciti.biz/faq/category/freebsd/"><img src="freebsd_logo_sm.png" alt="" border="0"></a></div><span class="drop_cap">H</span>ow do I install rsnapshot a filesystem snapshot utility based on rsync on my FreeBSD server to backup my  local/remote Linux and Unix-based desktop, server and laptop system?<br> <span id="more-145305"></span><br> The rsnapshot is a filesystem snapshot utility based on rsync command. rsnapshot makes it easy to make periodic snapshots of local machines, and remote machines over ssh. The code makes extensive use of hard links whenever possible, to greatly reduce the disk space required. It is written entirely in perl with no module dependencies, and has been tested with Perl versions 5.004 through 5.8.1. In this tutorial you will learn how to create FreeBSD based backup server to keep backups in hourly, daily, monthly, and yearly format.<p></p><center>  <ins class="adsbygoogle" style="display: inline-block; width: 336px; height: 280px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2404767461"></ins> <p></p></center><p></p><h2>Install rsnapshot on FreeBSD server</h2><p>Type the following command to update pkg database:<br> <code># pkg update</code><br> Sample outputs:</p><pre>Updating FreeBSD repository catalogue...
FreeBSD repository is up-to-date.
All repositories are up-to-date.</pre><p>To install the binary package, enter:<br> <code># pkg install rsnapshot</code><br> Sample outputs:<br></p><div id="attachment_145306" style="width: 610px;" class="wp-caption aligncenter"><img src="pkg-install-rsnapshot.jpg" alt="Fig.01: To add the package type 'pkg install rsnapshot' command" class="size-full wp-image-145306" srcset="pkg-install-rsnapshot.jpg 600w, pkg-install-rsnapshot-239x300.jpg 239w" sizes="(max-width: 600px) 100vw, 600px" height="754" width="600"><p class="wp-caption-text">Fig.01: To add the package type ‘pkg install rsnapshot’ command</p></div><br> Or install it using the port<br> <code># cd /usr/ports/sysutils/rsnapshot/<br> # make install clean</code><p></p><h2>Configure rsnapshot on FreeBSD box</h2><p>First, copy <kbd>/usr/local/etc/rsnapshot.conf.default</kbd> to <kbd>/usr/local/etc/rsnapshot.conf</kbd>, run:<br> <code># cp -v /usr/local/etc/rsnapshot.conf.default  /usr/local/etc/rsnapshot.conf</code><br> Next, edit <kbd>/usr/local/etc/rsnapshot.conf</kbd>, enter:</p><p class="alert"><strong>Attention!</strong> This file requires tabs between elements to avoid syntax errors.</p><p><code># vi /usr/local/etc/rsnapshot.conf</code><br> Update and uncomment as follows:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="ini" style="font-family: monospace;"># All snapshots will be stored under this root directory.
snapshot_root   /securebackup/root.user.only/rsnapshot/
&nbsp;
#########################################
#     BACKUP LEVELS / INTERVALS         #
# Must be unique and in ascending order #
# e.g. alpha, beta, gamma, etc.         #
#########################################
# <span style="">6</span> hourly snapshots - daily <span style="">(</span>every <span style="">4</span> hour<span style="">)</span>
# <span style="">1</span> daily snapshot - daily
# <span style="">4</span> weekly snapshots - weekly <span style="">(</span>Sunday<span style="">)</span>
# <span style="">12</span> monthly snapshots - 1st day of every month
################################################
&nbsp;
retain  hourly  <span style="">6</span>
retain  daily   <span style="">7</span>
retain  weekly  <span style="">4</span>
retain  monthly <span style="">12</span>
&nbsp;
# If you enable this, data will be written to the file you specify.
logfile /var/log/rsnapshot
&nbsp;
# Exclude these files from backups
exclude_file    /usr/local/etc/rsnapshot.exclude.txt
&nbsp;
###################################
### SET BACKUP POINTS / SCRIPTS ###
###################################
&nbsp;
# LOCALHOST/nas04 Backup our own local freebsd box first
backup  /home/          nas04/
backup  /etc/           nas04/
backup  /usr/local/     nas04/
&nbsp;
# Okay backup our remote web server called 10.12.249.194
backup  root@10.12.249.194:/etc/        wwwserver1/
backup  root@10.12.249.194:/root/       wwwserver1/
backup  root@10.12.249.194:/home/       wwwserver1/
backup  root@10.12.249.194:/scripts/    wwwserver1/
backup  root@10.12.249.194:/usr/share/lxc/      wwwserver1/
backup  root@10.12.249.194:/lib/ufw/    swwwserver1/
backup  root@10.12.249.194:/var/www/    swwwserver1/
&nbsp;
# Backup mysql database too
backup_script   /usr/bin/ssh root@10.12.249.194 <span style="color: rgb(153, 51, 51);">"/scripts/mysql/backup.nas.sh"</span>        unused1/
backup_script   /usr/bin/scp -r root@10.12.249.194:/backups/mysql/nas/ /securebackup/root.user.only/rsnapshot/tmp/    mysql/wwwserver1/
&nbsp;
# Backup v.backup2 server too
backup  root@v.backup2:/root/   backup2/
backup  root@v.backup2:/etc/    backup2/
backup  root@v.backup2:/var/www/    backup2/</pre></td></tr></tbody></table></div><h3>Install mysql backup helper script in <span style="color: rgb(153, 51, 153);">10.12.249.194 remote server</span></h3><p>Create a script as follows at <kbd>/scripts/mysql/backup.nas.sh</kbd> location on your MySQL server:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="bash" style="font-family: monospace;"><span style="color: rgb(102, 102, 102); font-style: italic;">#!/bin/bash</span>
<span style="color: rgb(102, 102, 102); font-style: italic;"># Name: backup.nas.sh</span>
<span style="color: rgb(102, 102, 102); font-style: italic;"># Author: Vivek Gite &lt;www.cyberciti.biz&gt; under GPL v2.x+</span>
<span style="color: rgb(102, 102, 102); font-style: italic;"># Purpose: Backup mysql databases for rsnapshot</span>
<span style="color: rgb(102, 102, 102); font-style: italic;"># Tested on: RHEL/CentOS/Debian/Ubuntu only </span>
<span style="color: rgb(102, 102, 102); font-style: italic;"># ---------------------------------------------------------</span>
<span style="color: rgb(0, 120, 0);">MUSER</span>=<span style="color: rgb(255, 0, 0);">'YOUR-USERNAME-HERE'</span>
<span style="color: rgb(0, 120, 0);">MPASS</span>=<span style="color: rgb(255, 0, 0);">'YOUR-PASSWORD-HERE'</span>
<span style="color: rgb(0, 120, 0);">MHOST</span>=<span style="color: rgb(255, 0, 0);">'YOUR-HOSTNAME-HERE'</span>
<span style="color: rgb(0, 120, 0);">DEST</span>=<span style="color: rgb(255, 0, 0);">"/backups/mysql/nas"</span>
<span style="color: rgb(0, 120, 0);">NOWFORMAT</span>=<span style="color: rgb(255, 0, 0);">"%m_%d_%Y_%H_%M_%S%P"</span>
<span style="color: rgb(0, 120, 0);">MYSQL</span>=<span style="color: rgb(255, 0, 0);">"/usr/bin/mysql"</span>
<span style="color: rgb(0, 120, 0);">MYSQLDUMP</span>=<span style="color: rgb(255, 0, 0);">"/usr/bin/mysqldump"</span>
<span style="color: rgb(0, 120, 0);">MKDIR</span>=<span style="color: rgb(255, 0, 0);">"/bin/mkdir"</span>
<span style="color: rgb(0, 120, 0);">RM</span>=<span style="color: rgb(255, 0, 0);">"/bin/rm"</span>
<span style="color: rgb(0, 120, 0);">GZIP</span>=<span style="color: rgb(255, 0, 0);">"/bin/gzip"</span>
<span style="color: rgb(0, 120, 0);">DATE</span>=<span style="color: rgb(255, 0, 0);">"/bin/date"</span>
<span style="color: rgb(0, 120, 0);">SED</span>=<span style="color: rgb(255, 0, 0);">"/bin/sed"</span>
&nbsp;
<span style="color: rgb(122, 8, 116); font-weight: bold;">[</span>  <span style="color: rgb(0, 0, 0); font-weight: bold;">!</span> <span style="color: rgb(102, 0, 51);">-d</span> <span style="color: rgb(255, 0, 0);">"<span style="color: rgb(0, 120, 0);">$DEST</span>"</span> <span style="color: rgb(122, 8, 116); font-weight: bold;">]</span> <span style="color: rgb(0, 0, 0); font-weight: bold;">&amp;&amp;</span> <span style="color: rgb(0, 120, 0);">$MKDIR</span> <span style="color: rgb(102, 0, 51);">-p</span> <span style="color: rgb(255, 0, 0);">"<span style="color: rgb(0, 120, 0);">$DEST</span>"</span>
&nbsp;
<span style="color: rgb(0, 120, 0);">DBS</span>=<span style="color: rgb(255, 0, 0);">"<span style="color: rgb(0, 120, 0);">$($MYSQL -u $MUSER -h $MHOST -p$MPASS -Bse 'show databases')</span>"</span>
<span style="color: rgb(0, 120, 0);">DBS</span>=<span style="color: rgb(255, 0, 0);">"<span style="color: rgb(0, 120, 0);">$($SED -e 's/performance_schema//' -e 's/information_schema//' &lt;&lt;&lt;$DBS)</span>"</span>
<span style="color: rgb(0, 120, 0);">$RM</span> <span style="color: rgb(102, 0, 51);">-f</span> <span style="color: rgb(0, 120, 0);">$DEST</span><span style="color: rgb(0, 0, 0); font-weight: bold;">/*</span> <span style="color: rgb(0, 0, 0); font-weight: bold;">&gt;/</span>dev<span style="color: rgb(0, 0, 0); font-weight: bold;">/</span>null <span style="color: rgb(0, 0, 0);">2</span><span style="color: rgb(0, 0, 0); font-weight: bold;">&gt;&amp;</span><span style="color: rgb(0, 0, 0);">1</span>
<span style="color: rgb(0, 0, 0); font-weight: bold;">for</span> db <span style="color: rgb(0, 0, 0); font-weight: bold;">in</span> <span style="color: rgb(0, 120, 0);">$DBS</span>
<span style="color: rgb(0, 0, 0); font-weight: bold;">do</span>
                <span style="color: rgb(0, 120, 0);">tTime</span>=$<span style="color: rgb(122, 8, 116); font-weight: bold;">(</span><span style="color: rgb(194, 12, 185); font-weight: bold;">date</span> +<span style="color: rgb(255, 0, 0);">"<span style="color: rgb(0, 120, 0);">${NOWFORMAT}</span>"</span><span style="color: rgb(122, 8, 116); font-weight: bold;">)</span>
                <span style="color: rgb(0, 120, 0);">FILE</span>=<span style="color: rgb(255, 0, 0);">"<span style="color: rgb(0, 120, 0);">$DEST</span>/<span style="color: rgb(0, 120, 0);">${db}</span>.<span style="color: rgb(0, 120, 0);">${tTime}</span>.gz"</span>
                <span style="color: rgb(0, 120, 0);">$MYSQLDUMP</span> <span style="color: rgb(102, 0, 51);">-u</span> <span style="color: rgb(0, 120, 0);">$MUSER</span> <span style="color: rgb(102, 0, 51);">-h</span> <span style="color: rgb(0, 120, 0);">$MHOST</span> -p<span style="color: rgb(0, 120, 0);">$MPASS</span> <span style="color: rgb(0, 120, 0);">$db</span> <span style="color: rgb(0, 0, 0); font-weight: bold;">|</span> <span style="color: rgb(0, 120, 0);">$GZIP</span> <span style="color: rgb(102, 0, 51);">-9</span> <span style="color: rgb(0, 0, 0); font-weight: bold;">&gt;</span> <span style="color: rgb(0, 120, 0);">$FILE</span>
<span style="color: rgb(0, 0, 0); font-weight: bold;">done</span></pre></td></tr></tbody></table></div><h2>Install keychain on FreeBSD server</h2><p>Type the following command to install user-friendly front-end to ssh-agent for password less login to the remote server:<br> <code># pkg install keychain</code><br> Sample outputs:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="ini" style="font-family: monospace;">Updating FreeBSD repository catalogue...
FreeBSD repository is up-to-date.
All repositories are up-to-date.
The following <span style="">1</span> package<span style="">(</span>s<span style="">)</span> will be affected <span style="">(</span>of <span style="">0</span> checked<span style="">)</span>:
&nbsp;
New packages to be INSTALLED:
	keychain: 2.8.2
&nbsp;
The process will require <span style="">95</span> KiB more space.
<span style="">35</span> KiB to be downloaded.
&nbsp;
Proceed with this action? <span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>y/N<span style="">]</span></span>: y
<span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>webserver<span style="">]</span></span> Fetching keychain-2.8.2.txz: <span style="">100</span>%   <span style="">35</span> KiB  35.8kB/s    00:01
Checking integrity... done <span style="">(</span><span style="">0</span> conflicting<span style="">)</span>
<span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>webserver<span style="">]</span> <span style="">[</span>1/1<span style="">]</span></span> Installing keychain-2.8.2...
<span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>webserver<span style="">]</span> <span style="">[</span>1/1<span style="">]</span></span> Extracting keychain-2.8.2: <span style="">100</span>%</pre></td></tr></tbody></table></div><p>Append the following entries in your shell startup file. I’m using default CSH on my FreeBSD as root user:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="bash" style="font-family: monospace;"><span style="color: rgb(122, 8, 116); font-weight: bold;">echo</span> <span style="color: rgb(255, 0, 0);">'/usr/local/bin/keychain --clear $HOME/.ssh/id_rsa'</span> <span style="color: rgb(0, 0, 0); font-weight: bold;">&gt;&gt;</span> <span style="color: rgb(0, 0, 0); font-weight: bold;">/</span>root<span style="color: rgb(0, 0, 0); font-weight: bold;">/</span>.cshrc
<span style="color: rgb(122, 8, 116); font-weight: bold;">echo</span> <span style="color: rgb(255, 0, 0);">'source $HOME/.keychain/webserver-csh'</span> <span style="color: rgb(0, 0, 0); font-weight: bold;">&gt;&gt;</span> <span style="color: rgb(0, 0, 0); font-weight: bold;">/</span>root<span style="color: rgb(0, 0, 0); font-weight: bold;">/</span>.cshrc</pre></td></tr></tbody></table></div><h2>Install and configure ssh keys on FreeBSD box only</h2><p>You <a href="http://www.cyberciti.biz/faq/how-to-set-up-ssh-keys-on-linux-unix/">need to set up public key authentication and use keychain to manage your keys</a>:<br> <code># ssh-keygen -t rsa</code><br> Sample outputs:</p><pre>Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa):
Created directory '/root/.ssh'.
Enter passphrase (empty for no passphrase): <span style="color: rgb(0, 153, 0);">{ENTER-YOUR-PASSPHRASE-HERE}</span>
Enter same passphrase again: <span style="color: rgb(0, 153, 0);">{again-ENTER-YOUR-PASSPHRASE-HERE}</span>
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
5b:74:30:c8:4a:10:78:a3:eb:ce:bd:ee:87:40:82:7f root@webserver
The key's randomart image is:
+--[ RSA 2048]----+
|   .oo . .o      |
|  . o . o  o     |
|.  o o .  . .    |
|o o   .  . .     |
| + .    S .      |
|  + E    o       |
| . o .  .        |
| .... .          |
| .oo=o           |
+-----------------+</pre><p>You need to set the Key Pair location and name. I recommend you use the default location if you do not yet have another key there, for example: $HOME/.ssh/id_rsa. You will be prompted to supply a passphrase (password) for your private key. I suggest that you setup a passphrase when prompted. Install the public key in remote server called v.backup2 and 10.12.249.194. First, install <kbd>ssh-copy-id</kbd> – a small script which copies your ssh public-key to a remote host, run:<br> <code># pkg install ssh-copy-id</code><br> Sample outputs:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="ini" style="font-family: monospace;">Updating FreeBSD repository catalogue...
FreeBSD repository is up-to-date.
All repositories are up-to-date.
The following <span style="">1</span> package<span style="">(</span>s<span style="">)</span> will be affected <span style="">(</span>of <span style="">0</span> checked<span style="">)</span>:
&nbsp;
New packages to be INSTALLED:
	ssh-copy-id: 5.6p1
&nbsp;
The process will require <span style="">2</span> KiB more space.
<span style="">2</span> KiB to be downloaded.
&nbsp;
Proceed with this action? <span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>y/N<span style="">]</span></span>: y
<span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>webserver<span style="">]</span></span> Fetching ssh-copy-id-5.6p1.txz: <span style="">100</span>%    <span style="">2</span> KiB   2.5kB/s    00:01
Checking integrity... done <span style="">(</span><span style="">0</span> conflicting<span style="">)</span>
<span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>webserver<span style="">]</span> <span style="">[</span>1/1<span style="">]</span></span> Installing ssh-copy-id-5.6p1...
<span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>webserver<span style="">]</span> <span style="">[</span>1/1<span style="">]</span></span> Extracting ssh-copy-id-5.6p1: <span style="">100</span>%</pre></td></tr></tbody></table></div><p>Now, install the pub keys:<br> <code># ssh-copy-id -i $HOME/.ssh/id_rsa.pub user@10.12.249.194<br> # ssh-copy-id -i $HOME/.ssh/id_rsa.pub user@v.backup2</code></p><h2>Test your configuration on FreeBSD</h2><p>Type the following command:<br> <code># rsnapshot configtest<br> # rsnapshot -c /usr/local/etc/rsnapshot.conf configtest</code><br> Sample outputs:</p><pre>Syntax OK</pre><p>You can see  shell commands that would be executed by this utility:<br> <code># rsnapshot -t hourly<br> # rsnapshot -t daily<br> # rsnapshot -t weekly<br> # rsnapshot -t monthly </code></p><h2>Run rsnapshot and make your first backups on FreeBSD</h2><p>Type the following command to make hourly backup:<br> <code># rsnapshot -v hourly</code><br> Sample outputs:<br></p><div id="attachment_145307" style="width: 610px;" class="wp-caption aligncenter"><img src="rsnapshot-running-on-freebsd.jpg" alt="Fig.02: Rsnapshot in action" class="size-full wp-image-145307" srcset="rsnapshot-running-on-freebsd.jpg 600w, rsnapshot-running-on-freebsd-300x200.jpg 300w" sizes="(max-width: 600px) 100vw, 600px" height="399" width="600"><p class="wp-caption-text">Fig.02: Rsnapshot in action</p></div><p></p><h2>Configuring cron to run backups on FreeBSD</h2><p>Type <a href="http://www.cyberciti.biz/faq/how-do-i-add-jobs-to-cron-under-linux-or-unix-oses/">the following command to configure backup cron job</a>:<br> <code># crontab -e</code><br> Append the following entries:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="ini" style="font-family: monospace;"><span style="">30</span> */<span style="">4</span> * * *  root      /usr/local/bin/rsnapshot hourly
<span style="">40</span> <span style="">21</span> * * *   root      /usr/local/bin/rsnapshot daily
<span style="">20</span> <span style="">22</span> * * <span style="">6</span>   root      /usr/local/bin/rsnapshot weekly
<span style="">10</span> <span style="">23</span> <span style="">1</span> * *   root      /usr/local/bin/rsnapshot monthly</pre></td></tr></tbody></table></div><p>Save and close the file.</p><h2>How do I restore backups?</h2><p>Let us say you would like to restore a backup for wwwserver1. Type the command as follows (select day and date from the ls -l output):<br> <code>#############################<br> # Login to your FreeBSD server    #<br> # cd to backup location           #<br> # Select hourly, weekly etc       #<br> # scp or rsync to destination     #<br> ###################################<br> # cd /securebackup/root.user.only/rsnapshot/<br> # ls -l<br> # cd hourly.0/wwwserver1/<br> # scp -r var/www/ root@10.12.249.194:/var/www/</code></p><p>And, there you have it, the rsnapshot backup utility installed and working correctly on the latest version of FreeBSD server to backup local and remote servers or desktop system.</p> <strong>Share this tutorial on:</strong><div class="nixcraft-social"><a class="nixcraft-link nixcraft-twitter" href="https://twitter.com/intent/tweet?text=FreeBSD+Install+Rsnapshot+Filesystem+Snapshot+Backup+Utility&amp;url=http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/&amp;via=nixcraft" title="Tweet this tutorial/page">Twitter</a><a class="nixcraft-link nixcraft-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/" title="Share this page/tutorial on Facebook">Facebook</a><a class="nixcraft-link nixcraft-googleplus" href="https://plus.google.com/share?url=http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/" title="Share this page/tutorial on Google+">Google+</a><a class="nixcraft-link nixcraft-pdf" href="http://www.cyberciti.biz/view/pdf/faq/145305.php" title="Download this tutorial/faq as a free pdf">Download PDF version </a><a class="nixcraft-link nixcraft-error" href="https://nixcraft.wufoo.com/forms/give-us-feedback-for-nixcraft/def/Field209=http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/&amp;Field211=FreeBSD%20Install%20Rsnapshot%20Filesystem%20Snapshot%20Backup%20Utility" target="_blank" title="Click here to report Typo/Grammar and other Incorrect information">Found an error/typo on this page?</a></div><div class="crp_related "><div class="my_tutorial_series">About the author: Vivek Gite is a seasoned sysadmin and a trainer for the Linux/Unix &amp; shell scripting. Follow him on <strong><a href="https://twitter.com/nixcraft" style="text-decoration: underline;">Twitter</a></strong>. OR <strong>read more like this</strong>:<ul><li><a href="http://www.cyberciti.biz/faq/linux-rsnapshot-backup-howto/" class="crp_title">Debian / Ubuntu Linux Install and Configure Remote Filesystem Snapshot with</a></li><li><a href="http://www.cyberciti.biz/faq/redhat-cetos-linux-remote-backup-snapshot-server/" class="crp_title">How To Set Red hat / CentOS Linux Remote Backup / Snapshot Server</a></li><li><a href="http://www.cyberciti.biz/faq/restoring-backup-files-with-rsnapshot-unix-linux-bsd-appleosx/" class="crp_title">UNIX / Linux: Rsnapshot Restore Backups</a></li><li><a href="http://www.cyberciti.biz/faq/linux-unix-apple-osx-bsd-rsync-copy-hard-links/" class="crp_title">Rsync: Preserve / Copy Hard Links ( Backup Rsnapshot Directory Tree )</a></li><li><a href="http://www.cyberciti.biz/faq/how-to-wakeup-backup-nas-server-and-mirror-files-using-rsync-in-linux/" class="crp_title">How To Wakeup Backup Nas Server and Mirror Files Using Rsync in Linux</a></li><li><a href="http://www.cyberciti.biz/faq/linux-unix-mysqldump-got-error1044-access-denied/" class="crp_title">mysqldump: Got error: 1044: Access denied for user…</a></li><li><a href="http://www.cyberciti.biz/faq/ubuntu-linux-mysql-nas-ftp-backup-script/" class="crp_title">Ubuntu Linux Backup MySQL Server Shell Script</a></li><li><a href="http://www.cyberciti.biz/faq/linux-unix-autologin-cron-ftp-script/" class="crp_title">RHEL / CentOS Linux FTP Cron Job for automatic ftp backup</a></li><li><a href="http://www.cyberciti.biz/faq/warning-could-not-lchown/" class="crp_title">Rsnapshot WARNING: Could not lchown() symlink "/path/to/file" Error</a></li><li><a href="http://www.cyberciti.biz/faq/how-to-back-up-a-web-server/" class="crp_title">How To Back Up a Web Server</a></li></ul></div><div class="crp_clear"></div></div><p></p><center>  <ins class="adsbygoogle" style="display: block;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="9863511468" data-ad-format="autorelaxed"></ins>  </center></div></div><div id="comments"><div class="comments_intro"><span class="bracket">{</span> <span class="num_comments">2</span> comments… <a href="#commentform" rel="nofollow">add one</a> <span class="bracket">}</span></div><ul class="comment_list"><li class="comment even thread-even depth-1" id="comment-762085"><div class="comment_head"> <span class="comment_author">Lavi</span> <span class="comment_date">November 24, 2015, 7:18 am</span></div><div class="comment_text grt" id="comment-body-762085"><p>Perl is Back!! :)</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/?replytocom=762085#commentform" aria-label="Reply to Lavi">Reply</a> <a class="comment_permalink" href="#comment-762085" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-762222"><div class="comment_head"> <span class="comment_author">subi</span> <span class="comment_date">November 24, 2015, 8:39 pm</span></div><div class="comment_text grt" id="comment-body-762222"><p>Great article, thanks for share</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/howto-install-rsnapshot-filesystem-snapshot-backup-utility-in-freebsd/?replytocom=762222#commentform" aria-label="Reply to subi">Reply</a> <a class="comment_permalink" href="#comment-762222" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul><div id="commentform"><form method="post" action="http://www.cyberciti.biz/faq/wp-comments-post.php"> <a rel="nofollow" id="cancel-comment-reply-link" href="#respond" style="display: none;">Cancel reply</a><p class="comment_form_title">Leave a Comment</p><p id="comment_form_name"> <label for="author">Name</label> <input id="author" class="input_text" name="author" value="" tabindex="1" type="text"></p><p id="comment_form_email"> <label for="email">Email</label> <input id="email" class="input_text" name="email" value="" tabindex="2" type="text"></p><p id="comment_form_comment"> <label for="comment">Comment</label><textarea name="comment" id="comment" class="input_text" tabindex="4" rows="6"></textarea></p><p id="comment_form_submit"> <input id="submit" class="input_submit" name="submit" tabindex="5" value="Submit" type="submit"></p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="26c4681060" type="hidden"></p><p style="display: none;"></p><input name="comment_post_ID" value="145305" id="comment_post_ID" type="hidden"> <input name="comment_parent" id="comment_parent" value="0" type="hidden"></form><input id="ak_js" name="ak_js" value="1469856942331" type="hidden"></div> <br><div style="font-size: 85%;">&nbsp;&nbsp; Tagged with: <a href="http://www.cyberciti.biz/faq/tag/rsnapshot/" rel="tag">rsnapshot</a>, <a href="http://www.cyberciti.biz/faq/tag/rsnapshot-backup/" rel="tag">rsnapshot backup</a>, <a href="http://www.cyberciti.biz/faq/tag/rsnapshot-command/" rel="tag">rsnapshot command</a>, <a href="http://www.cyberciti.biz/faq/tag/rsnapshot-conf/" rel="tag">rsnapshot conf</a>, <a href="http://www.cyberciti.biz/faq/tag/rsnapshot-cron/" rel="tag">rsnapshot cron</a>, <a href="http://www.cyberciti.biz/faq/tag/rsnapshot-howto/" rel="tag">rsnapshot howto</a>, <a href="http://www.cyberciti.biz/faq/tag/rsnapshot-remote/" rel="tag">rsnapshot remote</a>, <a href="http://www.cyberciti.biz/faq/tag/rsnapshot-rsync/" rel="tag">rsnapshot rsync</a>, <a href="http://www.cyberciti.biz/faq/tutorial-difficulty-level/intermediate/" rel="tag">Intermediate</a></div></div><div class="prev_next"><p class="next_post">Next FAQ: <a href="http://www.cyberciti.biz/faq/linux-unix-summarize-detailed-system-resource-usage-with-time/" rel="next">How to summarize detailed system resource usage for given command on a Linux or Unix</a></p><p class="previous_post">Previous FAQ: <a href="http://www.cyberciti.biz/faq/debian-ubuntu-linux-delete-old-kernel-images-command/" rel="prev">Debian / Ubuntu Linux Delete Old Kernel Images Command</a></p></div></div><div style="position: relative; overflow: visible; box-sizing: border-box; min-height: 1px;" class="sidebar"><div style="padding-top: 1px; padding-bottom: 1px; position: static;" class="theiaStickySidebar"><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><div id="bsap_1304534" class="bsarocks bsap_bccb43591680e039e32e874cbcc9e431"></div></div></div><div class="widget search-form" id="thesis-search-widget-3"><form class="search_form" method="get" action="http://www.cyberciti.biz/faq"><p> <input class="input_text" id="s" name="s" value="To search, type and hit enter" type="text"> <input id="searchsubmit" value="Search" type="hidden"></p></form></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 600px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="3521177162"></ins> </div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><p class="widget_title">Featured Articles:</p><div class="textwidget"><ul><li><a href="http://www.cyberciti.biz/open-source/30-cool-best-open-source-softwares-of-2013/">30 Cool Open Source Software I Discovered in 2013</a></li><li><a href="http://www.cyberciti.biz/tips/bash-aliases-mac-centos-linux-unix.html">30 Handy Bash Shell Aliases For Linux / Unix / Mac OS X</a></li><li><a href="http://www.cyberciti.biz/networking/nmap-command-examples-tutorials/">Top 30 Nmap Command Examples For Sys/Network Admins</a></li><li><a href="http://www.cyberciti.biz/tips/php-security-best-practices-tutorial.html">25 PHP Security Best Practices For Sys Admins</a></li><li><a href="http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html">20 Linux System Monitoring Tools Every SysAdmin Should Know</a></li><li><a href="http://www.cyberciti.biz/tips/linux-security.html">20 Linux Server Hardening Security Tips</a></li><li><a href="http://www.cyberciti.biz/tips/linux-iptables-examples.html">Linux: 20 Iptables Examples For New SysAdmins</a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-openssh-server-best-practices.html">Top 20 OpenSSH Server Best Security Practices </a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-nginx-webserver-security.html">Top 20 Nginx WebServer Best Security Practices</a></li><li><a href="http://www.cyberciti.biz/tips/check-unix-linux-configuration-file-for-syntax-errors.html">20 Examples: Make Sure Unix / Linux Configuration Files Are Free From Syntax Errors</a></li><li><a href="http://www.cyberciti.biz/open-source/best-terminal-applications-for-linux-unix-macosx/">15 Greatest Open Source Terminal Applications Of 2012</a></li><li><a href="http://www.cyberciti.biz/tips/my-10-unix-command-line-mistakes.html">My 10 UNIX Command Line Mistakes</a></li><li><a href="http://www.cyberciti.biz/tips/open-source-project-management-software.html">Top 10 Open Source Web-Based Project Management Software</a></li><li><a href="http://www.cyberciti.biz/tips/download-email-client-for-linux-mac-osx-windows.html">Top 5 Email Client For Linux, Mac OS X, and Windows Users</a></li><li><a href="http://www.cyberciti.biz/tips/linux-laptop.html">The Novice Guide To Buying A Linux Laptop</a></li></ul></div></div><div class="extendedwopts-show extendedwopts-desktop extendedwopts-md-center widget widget_text" id=""><div class="textwidget">  <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 1057px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="6636490668"></ins> </div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><p class="widget_title">Don’t Miss Any Linux Tips</p><div class="textwidget"><form style="border: 1px solid rgb(204, 204, 204); padding: 3px; text-align: center;" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"><p>Get nixCraft in your inbox. It's free:</p><p><input value="Your email address" style="width: 140px;" name="email" type="text"></p><input value="Nixcraft-LinuxFreebsdSolarisTipsTricks" name="uri" type="hidden"><input name="loc" value="en_US" type="hidden"><input value="Subscribe" type="submit"></form></div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><center> <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2272802261"></ins>  </center></div></div></div></div></div><div class="footer"> ©2000-2016 nixCraft. All rights reserved. <a href="http://www.cyberciti.biz/tips/privacy">Privacy</a> - <a href="http://www.cyberciti.biz/tips/disclaimer">Terms of Service</a> - <a href="http://www.cyberciti.biz/tips/contact-us">Questions or Comments</a></div></div><div data-theiastickysidebar-sidebarselector="&quot;#secondary, #sidebar, .sidebar, #primary&quot;" data-theiastickysidebar-options="{&quot;containerSelector&quot;:&quot;&quot;,&quot;additionalMarginTop&quot;:0,&quot;additionalMarginBottom&quot;:0,&quot;updateSidebarHeight&quot;:false,&quot;minWidth&quot;:0,&quot;sidebarBehavior&quot;:&quot;stick-to-bottom&quot;,&quot;disableOnResponsiveLayouts&quot;:true}"></div>








</body>
</html>
